---
title: "p8105_hw1_yg3099"
author: "daisy_gui"
date: "2025-09-21"
output: github_document
---

```{r setup}
library("moderndive")
library(ggplot2)
library(tidyverse)
```

## Problem 1

```{r load_data}
data("early_january_weather") #load data
```

This dataset include the following variables: `r colnames(early_january_weather)`. 

One of the important variables is 'temp', which records the temperature at the time of record.

Another important variable is 'time_hour', which records the time that the weather information are measured and recorded. 

The dataset include `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns. 

The mean temperature among the collected data is `r mean(early_january_weather$temp)`. 

The code chunk below creates a scatterplot on temperature vs. time in hour. The humidity can be identified through the color of the points. The plot is saved to the project directory. 

```{r}
# create and print scatterplot
temp_time_plot = ggplot(
  early_january_weather, 
  aes(x = time_hour, y = temp, color = humid)
  ) + 
  geom_point() +
  labs(
  title = "Early January Temperature vs. Time with Humidity", 
  x = "Time (hour)", 
  y = "Temperature"
  )

print(temp_time_plot)

# save plot to directory
ggsave(filename = "temp_time_scatterplot.png", plot = temp_time_plot)

```

## Problem 2

```{r}
# Create Variables
rand_num = rnorm(10)

logical = rand_num > 0

rand_char = c("a", "b", "c", "d", "e", "f", "g", "h", "i","j")

factor_vec <- factor(rep(c("A", "B", "C"), length.out = 10),
                   levels = c("A", "B", "C"))
```

```{r}
# Combine into Data Frame
p2_df = data.frame(
  random_sample = rand_num, 
  sample_gt_zero = logical, 
  character_vector = rand_char, 
  factor_ABC = factor_vec
)
```

```{r}
# pull variables and calculate mean
rand_num_mean = mean(pull(p2_df, var = random_sample))

logical_mean = mean(pull(p2_df, var = sample_gt_zero))

char_mean = mean(pull(p2_df, var = character_vector))

factor_mean = mean(pull(p2_df, var = factor_ABC))
```

Mean of the random sample from standard normal distribution is `r rand_num_mean`. 

Mean of the logical vector indicating whether elements of the sample are greater than zero is `r logical_mean`. 

Mean of the character vector is `r char_mean`.

Mean of the factor vector with 3 levels is `r factor_mean`.

The means of random sample from standard normal distribution and the logical vector works. 

The means of the character vectors and factor vectors do not work. 


The code chunk below try converting logical, character, and factor variables with as.numeric. 

```{r}
# convert logical, character, and factor variables with as.numeric
num_log = as.numeric(p2_df$sample_gt_zero)

num_char = as.numeric(p2_df$character_vector)

num_fac = as.numeric(p2_df$factor_ABC)
```

When the logical variable is converted, TRUE is convereted into 1 and FALSE is converted into 0. 

There's a warning message when converting character variable:
"Warning message:
NAs introduced by coercion "
All outcomes are "NA".

When factor variable is converted, levels "A", "B", and "C" are converted into number 1, 2, and 3 respectively. 

as.numeric() tries to convert non-numeric variables into numeric. For logical variables, 0 and 1 con represent TRUE/FALSE. For factor variable, the order of levels are demonstrated. 

When trying to mean of logical variable, the mean of as.numeric result is taken. For the mean of factor variable, it is not automatically converted with as.numeric. Thus the mean cannot be calculated. 

There is no way to convert character variable into numeric values. Thus, it's unable to take the mean. 
